---
emoji: ğŸ““
title: [D3] Data Join
date: 2023-01-14 22:11
author: Steadystudy
tags: D3
categories: D3
---

# Data Join

- DOM elementì™€ Selection, Dataê°€ ê²°í•©í•˜ëŠ” ê²ƒ
- d3ì—ì„œ ë°ì´í„°ëŠ” ì…€ë ‰ì…˜ì˜ ì†ì„±ì´ ì•„ë‹ˆê³ , ì…€ë ‰ì…˜ì˜ ìµœë§ë‹¨ ë¬¸ì„œìš”ì†Œë“¤ì˜ ì†ì„±ì´ë‹¤.
- ë°ì´í„°ë¥¼ ì…€ë ‰ì…˜ì— ë°”ì¸ë”© í•˜ë©´, ë°ì´í„°ëŠ” ì…€ë ‰ì…˜ì˜ ìµœë§ë‹¨ DOM ë¬¸ì„œìš”ì†Œì˜ \_\_data\_\_ë¼ëŠ” ì†ì„±ì— í• ë‹¹ëœë‹¤.

## selection.data(data[,key])

- ë°ì´í„°ë¥¼ ë°”ì¸ë”©

  ### Key

- Selectionì— ë°ì´í„°ë¥¼ ê²°í•©í•˜ëŠ” ë°©ë²•ì„ ì„¤ëª…í•¨
- Selectionì˜ ê°ì²´ ë¶ˆë³€ì„±ì„ ìœ ì§€í•˜ë©´ì„œ ìƒˆë¡œìš´ ë°ì´í„°ë¡œ ì—…ë°ì´íŠ¸í•  ìˆ˜ ìˆìŒ

## selection.join(enter[, update][, exit])

- ë°˜í™˜í•  ë•, ì‹ ê·œìš”ì†Œ + ê¸°ì¡´ ìš”ì†Œë¥¼ ì •ë ¬í•˜ì—¬ ëª¨ë‘ ë°˜í™˜

- enter

  - ì‹ ê·œ ìš”ì†Œë¥¼ ì¶”ê°€
  - enter ì…€ë ‰ì…˜ì€ ì•„ì§ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ë¬¸ì„œìš”ì†Œë¥¼ ë‚˜íƒ€ë‚´ê¸° ë•Œë¬¸ì— ë³´í†µ ì…€ë ‰ì…˜ê³¼ ë‹¤ë¥´ë‹¤.
  - enter selectionì€ DOM ë¬¸ì„œìš”ì†Œë¥¼ í¬í•¨í•˜ì§€ ì•Šê³  \_\_data\_\_ ì†ì„±ë§Œì„ ê°€ì§€ëŠ” ë‹¨ìˆœ ê°ì²´ë¥¼ í¬í•¨í•œë‹¤.
  - selection.selectAllì„ í˜¸ì¶œí•˜ì—¬ ë…¸ë“œê°€ group ë°°ì—´ì˜ ë¶€ëª¨ë¡œ ì‚½ì…ë˜ë„ë¡ í•´ì•¼ í•œë‹¤.

- update

  - ê¸°ì¡´ ìš”ì†Œì— ëŒ€í•œ ì—…ë°ì´íŠ¸ ë™ì‘

- exit
  - ìœ íš¨í•˜ì§€ ì•Šì€ ê¸°ì¡´ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•˜ëŠ” ë°©ì‹
  - exit ì…€ë ‰ì…˜ì€ ì›ë˜ ì…€ë ‰ì…˜ì˜ ìˆœì„œë¥¼ ê·¸ëŒ€ë¡œ ë³´ì¡´í•œë‹¤. ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼ë¥¼ ì£¼ë©´ì„œ ì‚­ì œí•  ë•Œ ìœ ìš©í•˜ë‹¤.

```js
const movies = [
  {
    name: ì˜í™”1,
    year: 2022,
  },
  {
    name: ì˜í™”2,
    year: 2023,
  },
];

const svg = d3.select('body').append('svg');
svg
  .selectAll('rect')
  .data(movies, (movie) => movie.year)
  .join(
    (enter) => enter.append('rect').attr('fill', 'red'),
    (update) => update.attr('fill', 'orange'),
    (exit) => exit.remove(),
  );
```

# ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ë°©ë²•

```
// csv íŒŒì¼ ê°€ì ¸ì˜¤ê¸° => ë°˜í™˜ë˜ëŠ” ëª¨ë“  ê°’ì´ ë¬¸ìì—´ì´ë‹¤.
// ìˆ«ìë¡œ ëœ ê°’ì´ í•„ìš”í•˜ë‹¤ë©´ mapì´ë‚˜ filterë“±ì„ ì‚¬ìš©í•´ ê°€ê³µí•´ì•¼í•œë‹¤
const csvData = await d3.csv('./data/movie.csv');
const data = csvData.map(d => parseInt(d.year))

// tsv íŒŒì¼ ê°€ì ¸ì˜¤ê¸°
const tsvData = await d3.tsv('./data/movie.tsv');

// text íŒŒì¼ ê°€ì ¸ì˜¤ê¸°
const textData = await d3.text('./data/movie.csv');

// xml íŒŒì¼ ê°€ì ¸ì˜¤ê¸°
const xmlData = await d3.xml('./data/movie.xml');

// html íŒŒì¼ ê°€ì ¸ì˜¤ê¸°
const htmlData = await d3.html('./data/movie.html');

// json íŒŒì¼ ê°€ì ¸ì˜¤ê¸°
const jsonData = await d3.json('./data/movie.json');

// api requestì—ì„œ ê°€ì ¸ì˜¤ê¸°
const apiData = await d3.json(api ë¶ˆëŸ¬ì˜¬ url);
```
